---
layout: post
title: InnoDB for Mysql 5.6
---

### Mysql architecture
![architecture](http://p0iombi30.bkt.clouddn.com/Custom-engine-overview.png)


### InnoDB High Level Overview
![high-level-overview](http://p0iombi30.bkt.clouddn.com/innodbHigh-level%20Overview.png)
- what is in the buffer pool
  - index page 
  - data page
  - undo page
  - insert buffer
  - adaptive hash index
  - lock info
  - data dictionary
![innodb_buffer_pool](http://p0iombi30.bkt.clouddn.com/innodb%20buffer%20pool%202017-12-08%201.46.27.png)
- innodb_buffer_pool_size and innodb_buffer_pool_instances
  - `select pool_id, pool_size, free_buffers, database_pages from information_schema.innodb_buffer_pool_stats;` #show buffer pool stats.
  - **innodb_buffer_pool_instances** divides the buffer pool into specified number of separate regions. each with its own LRU list and data structures. **The advantage** is to reduce contention during concurrent memeory.
  - buffer instance param will only take effect when **innodb_buffer_pool_size** is larger than 1GB, and recommend use multiple Gigebytes 
- innodb_old_blocks_pct and innodb_old_blocks_time
